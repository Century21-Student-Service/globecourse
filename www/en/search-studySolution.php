<?php
require_once dirname(__FILE__) . './../include/config.inc.php';
include_once './../ext/news.php';
?>

<!DOCTYPE html>
<html lang="en-US" class="no-js">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Stuy Plan | CT21 Search Platform</title>
	<!-- <title>Kingster &#8211; School, College &amp; University HTML Template</title> -->

	<!-- (Theme) custom  ==  << Favicon and touch icons >>  ====================          Icon          -->
	<?php include_once '_dynamic_siteSetting/icon-setting.php';?>
	<!-- (Theme) custom  ==  << Favicon and touch icons >>  ====================          Icon          -->


	<!-- (Theme) kingster -->
	<!-- <link rel='stylesheet' href='kingster-plugins/goodlayers-core/plugins/combine/style.css' type='text/css' media='all' /> -->
	<link rel='stylesheet' href='kingster-plugins/goodlayers-core/include/css/page-builder.min.css' type='text/css' media='all' />
	<!-- <link rel='stylesheet' href='kingster-plugins/revslider/public/assets/css/settings.css' type='text/css' media='all' /> -->
	<link rel='stylesheet' href='kingster-css/style-core.min.css' type='text/css' media='all' />
	<link rel='stylesheet' href='kingster-css/kingster-style-custom.min.css' type='text/css' media='all' />

	<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700%2C400" rel="stylesheet" property="stylesheet" type="text/css" media="all">
	<link rel='stylesheet'
		href='https://fonts.googleapis.com/css?family=Poppins%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2Cregular%2Citalic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CABeeZee%3Aregular%2Citalic&amp;subset=latin%2Clatin-ext%2Cdevanagari&amp;ver=5.0.3'
		type='text/css' media='all' />

	<!-- (Theme) educate -->
	<!-- Mobile Specific Metas -->
	<!-- <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> -->

	<!-- Bootstrap  -->
	<!-- <link rel="stylesheet" type="text/css" href="educate-stylesheets/bootstrap.css" > -->

	<!-- Theme Style -->
	<!-- <link rel="stylesheet" type="text/css" href="educate-stylesheets/style.css"> -->

	<!-- Responsive -->
	<link rel="stylesheet" type="text/css" href="educate-stylesheets/responsive.css">

	<!-- Colors -->
	<!-- <link rel="stylesheet" type="text/css" href="educate-stylesheets/colors/color1.css" id="colors"> -->

	<!-- Animation Style -->
	<link rel="stylesheet" type="text/css" href="educate-stylesheets/animate.css">


	<!-- (Theme) Font-Awesome -->
	<link rel="stylesheet" type="text/css" href="fontAwesome/css/font-awesome.min.css">


	<!-- (Theme) custom -->
	<link rel="stylesheet" type="text/css" href="custom-css/font.css">
	<link rel="stylesheet" type="text/css" href="custom-css/stylesheet.css">
	<!-- <link rel="stylesheet" type="text/css" href="custom-css/radio-box.css"> -->
	<link rel="stylesheet" type="text/css" href="custom-css/radio-box_ext.css">
	<link rel="stylesheet" type="text/css" href="custom-css/drop-down.css">
	<!-- <link rel="stylesheet" type="text/css" href="custom-css/tab-box.css"> -->
	<link rel="stylesheet" type="text/css" href="custom-css/map-effect.css">
	<link rel="stylesheet" type="text/css" href="custom-css/style_study-solution.css">


	<!-- ==========  (custom) Style [only this pg]  ========== -->
	<style type="text/css"></style>
	<!-- ==========  (custom) Style [only this pg]  ========== -->

</head>

<body
	class="home page-template-default page page-id-2039 gdlr-core-body woocommerce-no-js tribe-no-js kingster-body kingster-body-front kingster-full  kingster-with-sticky-navigation  kingster-blockquote-style-1 gdlr-core-link-to-lightbox">

	<!-- ______________________________        NavBar [mobile]        ______________________________ -->
	<!-- =========================================================================================== -->
	<?php
include_once '_dynamic_siteSetting/navbar-mobile.php';
?>

	<!-- ======================================================================================== -->
	<!-- ______________________________        Body [outer]        ______________________________ -->
	<!-- ======================================================================================== -->
	<div class="kingster-body-outer-wrapper ">
		<div class="kingster-body-wrapper clearfix  kingster-with-frame">

			<!-- ______________________________        NavBar        ______________________________ -->
			<!-- ================================================================================== -->
			<?php include_once '_dynamic_siteSetting/navbar.php';?>

			<!-- ======================================================================================== -->
			<!-- ______________________________        Body [inner]        ______________________________ -->
			<!-- ======================================================================================== -->
			<div class="kingster-page-wrapper" id="kingster-page-wrapper">
				<div class="gdlr-core-page-builder-body">

					<!-- ===============        (theme) custom        =============== -->
					<div class="kingster-page-wrapper" id="kingster-page-wrapper">
						<div class="gdlr-core-page-builder-body">
							<div class="gdlr-core-pbf-wrapper " style="padding: 70px 0px 100px 0px;">
								<div class="gdlr-core-pbf-wrapper-content gdlr-core-js ">
									<div class="gdlr-core-pbf-wrapper-container clearfix gdlr-core-container">


										<div class="row">
											<!-- 1st Element -->
											<!-- ====================     << Title >> {page}     ==================== -->
											<div class="gdlr-core-pbf-element">
												<div
													class="gdlr-core-title-item gdlr-core-item-pdb clearfix  gdlr-core-left-align gdlr-core-title-item-caption-bottom gdlr-core-item-pdlr">
													<div class="gdlr-core-title-item-title-wrap clearfix">

														<h3 class="gdlr-core-title-item-title gdlr-core-skin-title "
															style="font-size: 34px ;font-weight: 700 ;letter-spacing: 0px ;text-transform: none ;color: #161616 ;">留学方案</h3>
													</div>
													<div><span class="gdlr-core-title-item-caption gdlr-core-info-font gdlr-core-skin-caption"
															style="font-size: 16px ;font-style: normal ;color: #6c6c6c ;margin-top: 0 ;">Study-Solution Search</span></div>
												</div>
											</div>

											<!-- 3rd Element -->
											<!-- ====================     << (Green) Line >>     ==================== -->
											<div class="gdlr-core-pbf-element">
												<div class="gdlr-core-divider-item gdlr-core-divider-item-normal gdlr-core-item-pdlr gdlr-core-center-align"
													style="margin-bottom: 25px ;">

													<div class="gdlr-core-divider-line gdlr-core-skin-divider" id="custom_greenLine-style-title"></div>
												</div>
											</div>
										</div>



										<!-- <section class="flat-row pad-top-100 flat-about"></section> -->
										<div class="container ctm-container">

											<!-- =========================================================================================== -->
											<!-- ===================================        [Tab]        =================================== -->
											<!-- =========================================================================================== -->
											<div class="row ctm-tab" style="height: 120px;">
												<div class="gdlr-core-column-15">
													<div class="gdlr-core-column-20 stepItem stepActive" id="btnTab_1"><span>1</span><br>
														<d>Choose "Current Education"</d>
													</div>
													<div class="gdlr-core-column-40">
														<spans class="stepLine"></spans>
													</div>
												</div>
												<div class="gdlr-core-column-15">
													<div class="gdlr-core-column-15" style="padding-right: 10px;">
														<spans class="stepLine"></spans>
													</div>
													<div class="gdlr-core-column-15 stepItem" id="btnTab_2"><span>2</span><br>
														<d>Choose "Education to Enrol"</d>
													</div>
													<div class="gdlr-core-column-30" style="padding-left: 10px;">
														<spans class="stepLine"></spans>
													</div>
												</div>
												<div class="gdlr-core-column-15">
													<div class="gdlr-core-column-30" style="padding-right: 10px;">
														<spans class="stepLine"></spans>
													</div>
													<div class="gdlr-core-column-15 stepItem" id="btnTab_3"><span>3</span><br>
														<d>Choose "State of Institution"</d>
													</div>
													<div class="gdlr-core-column-15" style="padding-left: 10px;">
														<spans class="stepLine"></spans>
													</div>
												</div>
												<div class="gdlr-core-column-15">
													<div class="gdlr-core-column-40">
														<spans class="stepLine"></spans>
													</div>
													<div class="gdlr-core-column-20 stepItem" id="btnTab_4"><span>4</span><br>
														<d>Choose "Institution"</d>
													</div>
												</div>
												<!-- <div class="gdlr-core-column-60" style="display: flex; position: absolute; justify-content: center; align-items: center; width: 80%; border: 1px solid black;"></div> -->
											</div>

											<!-- =================================================================================================== -->
											<!-- ===================================        [Tab-Content]        =================================== -->
											<!-- =================================================================================================== -->
											<div class="tab _inliner">
												<!-- ====================     << 学历 >>     ==================== -->
												<div style="padding: 20px 5px;">
													<div class="gdlr-core-column-60 tabContent" id="tab_1">

														<div style="padding-bottom: 20px;"><span><strong>Please select your "current" or "highest" level of education：</strong></span></div>
														<div class="gdlr-core-pbf-element ctm-contentWrap">
															<div class="gdlr-core-icon-list-item gdlr-core-item-pdlr gdlr-core-item-pdb clearfix ">

																<!-- =====  (Insert) State [drop-down list]  ===== -->
																<?php

/***  (Set) recognition-Name  ***/
$dropdown_Name = 'courseType';
$dropdown_ID = 'courseType';
/***  (Set) Button-Percentage  ***/
$dropdown_Class = 'dropdown_100';

/***  (Set) 1st Value  ***/
$dropdown_valueNil = 'Please choose "Level of Education"';
/***  (Get) Value [from database]  ***/
$dropdown_tableID = 'highestEdu';

/***  (Set) SQL code  ***/
$sql = "SELECT `fieldsel` FROM `ctm_field` WHERE `fieldname`='$dropdown_tableID'";

/***  (Insert) State [dropdown]  ***/
include 'custom-append/append_State__dropdown.php';

?>

															</div>
														</div>

													</div>
												</div>
												<!-- ====================     << 课程类别 >>     ==================== -->
												<div style="padding: 20px 5px;">
													<div class="gdlr-core-column-60 tabContent" style="display: none;" id="tab_2">

														<div style="padding-bottom: 20px;"><span><strong>According to your educational background, we would like to suggest you the
																	following study plans：</strong></span></div>
														<div class="gdlr-core-pbf-element ctm-contentWrap">
															<div class="gdlr-core-icon-list-item gdlr-core-item-pdlr gdlr-core-item-pdb clearfix ">

																<!-- =====  (Insert) State [drop-down list]  ===== -->
																<div id="radio_cType"></div>

															</div>
														</div>

													</div>
												</div>
												<!-- ====================     << 所在州 >>     ==================== -->
												<div class="wrapMap">
													<div style="display: none;" id="tab_3">

														<div class="gdlr-core-column-60 tabContent">

															<div style="padding-bottom: 20px;"><span><strong>Please click on the map to select the state of the enrolling
																		institutions：</strong></span></div>
															<div id="map-section" style="text-align: center;">
																<div id="map-section_inner">
																	<!-- ====================     << Map >>     ==================== -->
																	<?php include 'map_design2_larger.php';?>
																	<!-- ====================     << Map >>     ==================== -->
																</div>

																<!-- ====================     << Back-Step >>     ==================== -->
																<div class="gdlr-core-pbf-element" style="margin-top: 30px; border: 0px;">
																	<!-- <button class="gdlr-core-button gdlr-core-button-solid gdlr-core-button-no-border custom-button_noBorder ctm-btn-State_showAll" id="btn_showState"><strong>全部州份</strong><small>（可显示所有有关校院）</small></button> -->
																	<!-- <input name="button" type="submit" class="" style="font-weight: bold;" id="button" value="立 即 搜 索"></div> -->
																</div>
															</div>

														</div>


														<div class="gdlr-core-column-60 tabContent">

															<div style="padding-bottom: 20px;"><span><strong>According to your chosen state, we found the following
																		institutions：</strong></span></div>
															<div class="gdlr-core-pbf-element">
																<div class="gdlr-core-icon-list-item gdlr-core-item-pdlr gdlr-core-item-pdb clearfix ">

																	<!-- =====  (Insert) State [drop-down list]  ===== -->
																	<div id="list_School"></div>

																</div>
															</div>

														</div>

													</div>
												</div>
												<!-- ====================     << 校院 >>     ==================== -->
												<div style="padding: 20px 5px;">
													<div class="gdlr-core-column-60 tabContent" style="display: none;" id="tab_4">

														<div style="padding-bottom: 20px;"><span><strong>根据您选择的州份，我们为您查询到以下校院：</strong></span></div>
														<div class="gdlr-core-pbf-element">
															<div class="gdlr-core-icon-list-item gdlr-core-item-pdlr gdlr-core-item-pdb clearfix ">

																<!-- =====  (Insert) State [drop-down list]  ===== -->
																<!-- <div id="list_School"></div> -->

															</div>
														</div>

													</div>
												</div>

											</div>

											<!-- ====================     << Back-Step >>     ==================== -->
											<div class="gdlr-core-pbf-element" style="display: inline; margin-left: 30px; border: 0px;">
												<button class="gdlr-core-button gdlr-core-button-solid gdlr-core-button-no-border custom-button_noBorder"
													style="display: none; font-weight: bold;" id="btnBack">Previous</button>
												<!-- <input name="button" type="submit" class="" style="font-weight: bold;" id="button" value="立 即 搜 索"></div> -->
											</div>

											<!-- ====================     << Next-Step >>     ==================== -->
											<!-- <div class="gdlr-core-pbf-element" style="float: right; margin-right: 30px; border: 0px;">
												<button class="gdlr-core-button gdlr-core-button-solid gdlr-core-button-no-border custom-button_noBorder ctm-btn_disable"
													style="font-weight: bold;" id="btnNext" onl>下 一 步</button>
											</div> -->

										</div><!-- /.container -->

									</div>
								</div>
							</div>
						</div>
					</div>

					<!-- ===============        /(theme) custom        =============== -->


				</div>
			</div>

			<!-- ================================================================================== -->
			<!-- ______________________________        Footer        ______________________________ -->
			<!-- ================================================================================== -->
			<?php include_once '_dynamic_siteSetting/footer.php';?>

			<!-- ============================================================================================== -->
			<!-- ______________________________        (end) Body [outer]        ______________________________ -->
			<!-- ============================================================================================== -->
		</div>
	</div>


	<script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
	<script type='text/javascript' src='kingster-js/jquery/jquery-migrate.min.js'></script>
	<!-- <script type='text/javascript' src='kingster-plugins/revslider/public/assets/js/jquery.themepunch.tools.min.js'></script>
    <script type='text/javascript' src='kingster-plugins/revslider/public/assets/js/jquery.themepunch.revolution.min.js'></script>
    <script type="text/javascript" src="kingster-plugins/revslider/public/assets/js/extensions/revolution.extension.slideanims.min.js"></script>
    <script type="text/javascript" src="kingster-plugins/revslider/public/assets/js/extensions/revolution.extension.layeranimation.min.js"></script>
    <script type="text/javascript" src="kingster-plugins/revslider/public/assets/js/extensions/revolution.extension.kenburn.min.js"></script>
    <script type="text/javascript" src="kingster-plugins/revslider/public/assets/js/extensions/revolution.extension.navigation.min.js"></script>
    <script type="text/javascript" src="kingster-plugins/revslider/public/assets/js/extensions/revolution.extension.parallax.min.js"></script>
    <script type="text/javascript" src="kingster-plugins/revslider/public/assets/js/extensions/revolution.extension.actions.min.js"></script>
    <script type="text/javascript" src="kingster-plugins/revslider/public/assets/js/extensions/revolution.extension.video.min.js"></script> -->


	<!-- <script type='text/javascript' src='kingster-plugins/goodlayers-core/plugins/combine/script.js'></script>
    <script type='text/javascript' src='kingster-plugins/goodlayers-core/include/js/page-builder.js'></script> -->
	<script type='text/javascript' src='kingster-js/jquery/ui/effect.min.js'></script>
	<script type='text/javascript' src='kingster-js/plugins.min.js'></script>


	<!-- ==========  [from-ORIGINAL]  ========== -->
	<!-- <script src="./../templates/default/js/jquery.min.js"></script> -->



	<!-- ==========  (custom) JavaScript  ========== -->
	<script type="text/javascript" src="custom-code__js/map-function__studySolution.js"></script>
	<script type="text/javascript" src="_dynamic_siteSetting/footer-setting.js"></script>
	<!-- ==========  (custom) JavaScript  ========== -->


	<!-- ====================================================================================== -->
	<!-- ______________________________        Import-CSS        ______________________________ -->
	<!-- ====================================================================================== -->

	<!-- ====================  << Icon  >> ==================== -->
	<?php include_once '_dynamic_siteSetting/importCSS_icon.php';?>

	<!-- ====================================================================================== -->
	<!-- ______________________________        Validation        ______________________________ -->
	<!-- ====================================================================================== -->
	<script type="text/javascript">
		btnNext_manageEvent();
		/** ====================  << (check) Step-1  >> ==================== **/
		$('select[name="courseType"]').change(function () {
			btnNext_manageEvent();
		});

		function btnNext_manageEvent() {
			if ($('#courseType').val() != 0) {
				$('#btnNext').removeClass('ctm-btn_disable');
			} else
				$('#btnNext').addClass('ctm-btn_disable');
		}
	</script>

	<!-- ===================================================================================== -->
	<!-- ______________________________        Functions        ______________________________ -->
	<!-- ===================================================================================== -->
	<script type="text/javascript">
		var btnTab = [$('#btnTab_1'), $('#btnTab_2'), $('#btnTab_3'), $('#btnTab_4')];
		var tContent = [$('#tab_1'), $('#tab_2'), $('#tab_3'), $('#tab_4')];

		var stepNum = 0;
		var selectedSolution;
		btn_display();
		$('#courseType').change(e => toPg_Next());
		/** ====================  << Next [button]  >> ==================== **/
		$('#btnNext').click(function () {
			switch (stepNum) {
				case 0: { // 「目前学历」
					if ($('#courseType').val() == 0) {} else {
						toPg_Next();
					}
					break;
				}
				case 1: { // 「课程类别」
					if (!$('input:radio[name="solution"]').is(':checked')) {
						alert('请选择才能进去下一步');
					} else {
						selectedSolution = $('input:radio[name="solution"]:checked').val();
						getSchoolAll();
						toPg_Next();
						$('#btnNext').hide();

						// alert(selectedSolution);
					}
					break;
				}
				case 2: { // 「州份」
					if (clicked == -1) {
						alert('请选择才能进去下一步');
					} else {
						if (clicked == -2) {
							getSchoolAll();
						} else
							getSchool();

						toPg_Next();
						// $('#btnNext').hide();

						// alert(selectedSolution);
					}
					break;
				}
			}

		});
		/** ====================  << Back [button]  >> ==================== **/
		$('#btnBack').click(function () {
			toPg_Back();
		});
		/** ====================  << Functions  >> ==================== **/
		function toPg_Next() {
			var pgNum = '-' + (stepNum + 1) + '00%';
			// alert(pgNum);

			$('.tab').css({
				'transform': 'translate(' + pgNum + ', 0)'
			});
			tContent[stepNum + 1].show(100, function () {
				tContent[stepNum - 1].hide();
			});

			/* =====  Scroll-Top  ===== */
			$("html, body").animate({
				scrollTop: 0
			}, 300, "swing");
			/* =====  Scroll-Top  ===== */

			btnTab[stepNum].removeClass('stepActive');
			stepNum++;
			btn_display();
			btnTab[stepNum].addClass('stepActive');

			getCType();
		}

		function toPg_Back() {
			var pgNum_b = '-' + (stepNum - 1) + '00%';
			// alert(pgNum_b);

			$('.tab').css({
				'transform': 'translate(' + pgNum_b + ', 0)'
			});
			tContent[stepNum - 1].show();
			tContent[stepNum].hide(400, "swing");
			// $('.tab').css({'transform' : 'translate(0%, 0)'}).animate({}, 300, function(){
			//     $('#tabContent_2').hide(400, "swing"); //alt $(this).slideUp(400);
			// });

			/* =====  Scroll-Top  ===== */
			$("html, body").animate({
				scrollTop: 0
			}, 300, "swing");
			/* =====  Scroll-Top  ===== */

			btnTab[stepNum].removeClass('stepActive');
			stepNum--;
			btn_display();
			btnTab[stepNum].addClass('stepActive');

			$('#btnNext').show();
		}

		function btn_display() {
			if (stepNum == 0) {
				$('#btnBack').hide();
			} else
				$('#btnBack').show();
		}

		/** ====================  << AJax  >> ==================== **/
		function getCType() {
			// var tID = $("#courseType").children("option:selected").val();
			var solutionID = $('#courseType').val();
			jQuery.ajax({
				type: 'GET',
				url: './../ext/ajaxFun.php?act=getStudySolution_cType_en&sType=' + solutionID,
				date: '',
				success: function (m) {
					$('#radio_cType label').remove();
					$('#radio_cType').append(m);
					$("input#solution").click(e => {
						selectedSolution = $('input:radio[name="solution"]:checked').val();
						getSchoolAll();
						toPg_Next();
					});
				}
			});
		}

		function getSchool() {
			var cType = selectedSolution;
			var sID = clicked;
			jQuery.ajax({
				type: 'GET',
				url: './../ext/ajaxFun.php?act=getStudySolution_school&cType=' + cType + '&state=' + sID,
				date: '',
				success: function (m) {
					$('#list_School h4').remove();
					$('#list_School div').remove();
					$('#list_School').append(m);

					// Add Fade In effect after img is loaded
					// $('.ctm-nearbyUni__img').on('load', function(){
					// 	$('.ctm-nearbyUni__img').addClass('animated fadeInUp');
					// });
					// var imgCount = $('#list_School div').find('.ctm-nearbyUni__img');
					// alert(imgCount.length);
					// $('#list_School').children().each(function(index){
					// 	// alert($(this).attr('value'));

					// Hide list after loaded
					$('#list_School').children().hide();
					$('#list_School h4').show();

					// Add Fade In effect to each div
					$('#list_School div').addClass('animated fadeInUp');
					showDiv();

					function showDiv() {
						// If there are hidden divs left
						if ($('#list_School div:hidden').length) {
							// Fade the first of them in
							$('#list_School div:hidden:first').show();
							// And wait one second before fading in the next one
							setTimeout(showDiv, 100, 'swing');
						}
					}
				}
			});
		}

		function getSchoolAll() {
			var cTypeAll = selectedSolution;
			var w = $('body').width();
			jQuery.ajax({
				type: 'GET',
				url: './../ext/ajaxFun.php?act=getStudySolution_schoolAll_en&cTypeAll=' + cTypeAll + '&width=' + w,
				date: '',
				success: function (m) {
					$('#list_School h4').remove();
					$('#list_School div').remove();
					$('#list_School').append(m);
				}
			});
		}
	</script>
</body>

</html>